#remove drop statements for updates later!!!

DROP TABLE IF EXISTS `#__vil_product`;
DROP TABLE IF EXISTS `#__vil_profile`;
DROP TABLE IF EXISTS `#__vil_properties`;
DROP TABLE IF EXISTS `#__vil_price`;


CREATE TABLE IF NOT EXISTS `#__vil_product` (
	`id` int NOT NULL AUTO_INCREMENT,
	`title` varchar(32) NOT NULL,
	`subtitle` varchar(128) NOT NULL,
	`description` text,
	`image` varchar(128),
  PRIMARY KEY (`id`)
) ENGINE=INNODB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;

CREATE TABLE IF NOT EXISTS `#__vil_profile` (
	`id` int NOT NULL AUTO_INCREMENT,
	`product_id` int NOT NULL,
	`art_no` varchar(32) NOT NULL,
	`name` varchar(32) NOT NULL,
	`image` varchar(128),
  PRIMARY KEY (`id`)
  FOREIGN KEY (`product_id`) REFERENCES #__vil_product(`id`) ON DELETE CASCADE
) ENGINE=INNODB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;

CREATE TABLE IF NOT EXISTS `#__vil_properties` (
	`id` int NOT NULL AUTO_INCREMENT,
	`name` varchar(32) NOT NULL,
	`description` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=INNODB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;

CREATE TABLE IF NOT EXISTS `#__vil_price` (
	`id` int NOT NULL AUTO_INCREMENT,
	`profile_id` int NOT NULL,
	`width` decimal(2,2) NOT NULL,
	`depth` decimal(2,2) NOT NULL,
	`segments` decimal(1,2) NOT NULL,
	`price` decimal(10,2) NOT NULL,
	`properties` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
  FOREIGN KEY (`profile_id`) REFERENCES #__vil_profile(`id`) ON DELETE CASCADE
) ENGINE=INNODB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;

INSERT INTO `#__vil_properties` (`name`, `description`) VALUES 
('Traufe mit Stahl', ''),
('3. Stütze mittig', ''),
('Traufe mit Stahl und 3. Stütze', ''),
('Träger ohne Stahl', ''),
('Träger vorgespannt', ''),
('Träger mit Stahl', '');

INSERT INTO `#__vil_product` (`title`, `subtitle`, `description`, `image`) VALUES 
('Paradiso', '85 kg Schneelast nur ohne Unterbau lieferbar', 'Dachneigung: max. 10° (>10° auf Anfrage)<br/>...', 'paradiso.png');

INSERT INTO `#__vil_profile` (`product_id`, `art_no`, `name`, `image`) VALUES 
(1, '123215', 'Statik außen', 'paradiso_123215.png'),
(1, '123205', 'Statik außen (verstärkt)', 'paradiso_123205.png'),
(1, '214104', 'Statik innen', 'paradiso_214104.png');

INSERT INTO `#__vil_price` (`profile_id`, `width`, `depth`, `segments`, `price`, `properties`) VALUES 

#Profil 123215, Spaltenweise

(1, 2.00, 2.00, 2, 1601.00, '4'),
(1, 2.00, 3.00, 2, 1805.00, '4'),
(1, 2.00, 3.20, 2, 1854.00, '5'),
(1, 2.00, 3.60, 2, 1943.00, '5'),
(1, 2.00, 4.10, 2, 2422.00, '6'),

(1, 2.50, 2.00, 3, 1888.00, '4'),
(1, 2.50, 3.00, 3, 2120.00, '4'),
(1, 2.50, 3.20, 3, 2183.00, '5'),
(1, 2.50, 3.60, 3, 2305.00, '5'),
(1, 2.50, 4.10, 3, 2943.00, '6'),

(1, 3.00, 2.00, 3, 1889.00, '4'),
(1, 3.00, 3.00, 3, 2122.00, '4'),
(1, 3.00, 3.20, 3, 2185.00, '5'),
(1, 3.00, 3.60, 3, 2453.00, '1,5'),
(1, 3.00, 4.10, 3, 3092.00, '1,6'),

(1, 3.50, 2.00, 4, 2090.00, '4'),
(1, 3.50, 3.00, 4, 2583.00, '1,4'),
(1, 3.50, 3.20, 4, 2662.00, '1,5'),
(1, 3.50, 3.60, 4, 2816.00, '1,5'),
(1, 3.50, 4.10, 4, 3615.00, '1,6'),

(1, 4.00, 2.00, 4, 2301.00, '1,4'),
(1, 4.00, 3.00, 4, 2649.00, '1,4'),
(1, 4.00, 3.20, 4, 2728.00, '1,5'),
(1, 4.00, 3.60, 4, 2888.00, '2,5'),
(1, 4.00, 4.10, 4, 3687.00, '2,6'),

(1, 4.50, 2.00, 5, 2616.00, '2,4'),
(1, 4.50, 3.00, 5, 3032.00, '2,4'),
(1, 4.50, 3.20, 5, 3128.00, '2,5'),
(1, 4.50, 3.60, 5, 3312.00, '2,5'),
(1, 4.50, 4.10, 5, 4272.00, '2,6'),

(1, 5.00, 2.00, 5, 2618.00, '2,4'),
(1, 5.00, 3.00, 5, 3034.00, '2,4'),
(1, 5.00, 3.20, 5, 3130.00, '2,5'),
(1, 5.00, 3.60, 5, 3315.00, '2,5'),
(1, 5.00, 4.10, 5, 4274.00, '2,6'),

(1, 5.50, 2.00, 6, 2883.00, '2,4'),
(1, 5.50, 3.00, 6, 3375.00, '2,4'),
(1, 5.50, 3.20, 6, 3487.00, '2,5'),
(1, 5.50, 3.60, 6, 3703.00, '2,5'),
(1, 5.50, 4.10, 6, 4822.00, '2,6'),

(1, 6.00, 2.00, 5, 2885.00, '2,4'),
(1, 6.00, 3.00, 5, 3377.00, '2,4'),
(1, 6.00, 3.20, 5, 3489.00, '2,5'),
(1, 6.00, 3.60, 5, 3851.00, '3,5'),
(1, 6.00, 4.10, 5, 4971.00, '3,6'),

#Profil 123205, Spaltenweise

(2, 2.00, 4.10, 2, 2260.00, '4'),
(2, 2.00, 4.60, 2, 2602.00, '5'),
(2, 2.00, 5.10, 2, 2611.00, '5'),
(2, 2.00, 6.00, 2, 3779.00, '6'),

(2, 2.50, 4.10, 3, 2720.00, '4'),
(2, 2.50, 4.60, 3, 3176.00, '5'),
(2, 2.50, 5.10, 3, 3189.00, '5'),
(2, 2.50, 6.00, 3, 4898.00, '1,6'),

(2, 3.00, 4.10, 3, 2868.00, '1,4'),
(2, 3.00, 4.60, 3, 3324.00, '1,5'),
(2, 3.00, 5.10, 3, 3336.00, '1,5'),
(2, 3.00, 6.00, 3, 4901.00, '1,6'),

(2, 3.50, 4.10, 4, 3329.00, '1,4'),
(2, 3.50, 4.60, 4, 3899.00, '1,5'),
(2, 3.50, 5.10, 4, 3917.00, '1,5'),
(2, 3.50, 6.00, 4, 5882.00, '2,6'),

(2, 4.00, 4.10, 4, 3412.00, '2,4'),
(2, 4.00, 4.60, 4, 3982.00, '2,5'),
(2, 4.00, 5.10, 4, 4000.00, '2,5'),
(2, 4.00, 6.00, 4, 5959.00, '2,6'),

(2, 4.50, 4.10, 5, 3935.00, '2,4'),
(2, 4.50, 4.60, 5, 4618.00, '2,5'),
(2, 4.50, 5.10, 5, 4641.00, '2,5'),
(2, 4.50, 6.00, 5, 6995.00, '2,6'),

(2, 5.00, 4.10, 5, 3937.00, '2,4'),
(2, 5.00, 4.60, 5, 4621.00, '2,5'),
(2, 5.00, 5.10, 5, 4644.00, '2,5'),
(2, 5.00, 6.00, 5, 7144.00, '3,6'),

(2, 5.50, 4.10, 6, 4436.00, '2,4'),
(2, 5.50, 4.60, 6, 5380.00, '3,5'),
(2, 5.50, 5.10, 6, 5407.00, '3,5'),
(2, 5.50, 6.00, 6, 8157.00, '3,6'),

(2, 6.00, 4.10, 6, 4585.00, '3,4'),
(2, 6.00, 4.60, 6, 5383.00, '3,5'),
(2, 6.00, 5.10, 6, 5410.00, '3,5'),
(2, 6.00, 6.00, 6, 8160.00, '3,6'),

#Profil 214104, Spaltenweise

(3, 2.00, 2.00, 2, 1821.00, '4'),
(3, 2.00, 3.00, 2, 2048.00, '4'),
(3, 2.00, 3.20, 2, 2097.00, '5'),
(3, 2.00, 3.60, 2, 2179.00, '5'),

(3, 2.50, 2.00, 3, 2114.00, '4'),
(3, 2.50, 3.00, 3, 2362.00, '4'),
(3, 2.50, 3.20, 3, 2428.00, '5'),
(3, 2.50, 3.60, 3, 2545.00, '5'),

(3, 3.00, 2.00, 3, 2117.00, '4'),
(3, 3.00, 3.00, 3, 2366.00, '4'),
(3, 3.00, 3.20, 3, 2431.00, '5'),
(3, 3.00, 3.60, 3, 2695.00, '1,5'),

(3, 3.50, 2.00, 4, 2327.00, '4'),
(3, 3.50, 3.00, 4, 2839.00, '1,4'),
(3, 3.50, 3.20, 4, 2921.00, '1,5'),
(3, 3.50, 3.60, 4, 3063.00, '1,5'),

(3, 4.00, 2.00, 4, 2591.00, '1,4'),
(3, 4.00, 3.00, 4, 2958.00, '1,4'),
(3, 4.00, 3.20, 4, 3041.00, '1,5'),
(3, 4.00, 3.60, 4, 3188.00, '2,5'),

(3, 4.50, 2.00, 5, 2915.00, '2,4'),
(3, 4.50, 3.00, 5, 3341.00, '2,4'),
(3, 4.50, 3.20, 5, 3440.00, '2,5'),
(3, 4.50, 3.60, 5, 3618.00, '2,5'),

(3, 5.00, 2.00, 5, 2918.00, '2,4'),
(3, 5.00, 3.00, 5, 3345.00, '2,4'),
(3, 5.00, 3.20, 5, 3443.00, '2,5'),
(3, 5.00, 3.60, 5, 3621.00, '2,5'),

(3, 5.50, 2.00, 6, 3264.00, '2,4'),
(3, 5.50, 3.00, 6, 3765.00, '2,4'),
(3, 5.50, 3.20, 6, 3881.00, '2,5'),
(3, 5.50, 3.60, 6, 4082.00, '2,5'),

(3, 6.00, 2.00, 6, 3267.00, '2,4'),
(3, 6.00, 3.00, 6, 3769.00, '2,4'),
(3, 6.00, 3.20, 6, 3884.00, '2,5'),
(3, 6.00, 3.60, 6, 4232.00, '3,5');
